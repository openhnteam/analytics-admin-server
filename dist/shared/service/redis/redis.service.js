'use strict';const _0x1b900d=_0x4612;(function(_0x10c669,_0x333f46){const _0x307b6a=_0x4612,_0x112cd1=_0x10c669();while(!![]){try{const _0x34c977=-parseInt(_0x307b6a(0xb2))/0x1*(parseInt(_0x307b6a(0xc5))/0x2)+-parseInt(_0x307b6a(0xd1))/0x3+-parseInt(_0x307b6a(0xc0))/0x4+-parseInt(_0x307b6a(0xb8))/0x5+parseInt(_0x307b6a(0xd6))/0x6*(parseInt(_0x307b6a(0xc6))/0x7)+parseInt(_0x307b6a(0xbe))/0x8*(parseInt(_0x307b6a(0xd2))/0x9)+parseInt(_0x307b6a(0xd4))/0xa;if(_0x34c977===_0x333f46)break;else _0x112cd1['push'](_0x112cd1['shift']());}catch(_0x3461fe){_0x112cd1['push'](_0x112cd1['shift']());}}}(_0x3ca1,0x7e41b));function _0x3ca1(){const _0x26f3fe=['setbit','__metadata','object','setnx','1463574lzCNEz','441OjPLHH','setWithExS','12317780lwAugu','del','3521262QfKrqT','decorate','mdel','exists','1MSJbQk','length','defineProperty','design:paramtypes','@nestjs/common','__decorate','2675930kWltXm','CustomRedisService','set','function','Injectable','getLock','75272ytDggS','@liaoliaots/nestjs-redis','2006208ZtotHl','bitcount','redisClient','get','mget','475906qUndwD','7gJcTDb','getOwnPropertyDescriptor','../../utils/obj.utils','mset','exist','bitop','RedisService'];_0x3ca1=function(){return _0x26f3fe;};return _0x3ca1();}var __decorate=this&&this[_0x1b900d(0xb7)]||function(_0x3fb48f,_0x3a7514,_0x406fc6,_0x42648d){const _0x3a819a=_0x1b900d;var _0x59208f=arguments[_0x3a819a(0xb3)],_0x512b83=_0x59208f<0x3?_0x3a7514:_0x42648d===null?_0x42648d=Object[_0x3a819a(0xc7)](_0x3a7514,_0x406fc6):_0x42648d,_0xe5297d;if(typeof Reflect===_0x3a819a(0xcf)&&typeof Reflect[_0x3a819a(0xaf)]===_0x3a819a(0xbb))_0x512b83=Reflect['decorate'](_0x3fb48f,_0x3a7514,_0x406fc6,_0x42648d);else{for(var _0x4cffd3=_0x3fb48f[_0x3a819a(0xb3)]-0x1;_0x4cffd3>=0x0;_0x4cffd3--)if(_0xe5297d=_0x3fb48f[_0x4cffd3])_0x512b83=(_0x59208f<0x3?_0xe5297d(_0x512b83):_0x59208f>0x3?_0xe5297d(_0x3a7514,_0x406fc6,_0x512b83):_0xe5297d(_0x3a7514,_0x406fc6))||_0x512b83;}return _0x59208f>0x3&&_0x512b83&&Object[_0x3a819a(0xb4)](_0x3a7514,_0x406fc6,_0x512b83),_0x512b83;},__metadata=this&&this[_0x1b900d(0xce)]||function(_0x1b3433,_0x56dd17){const _0x48334d=_0x1b900d;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x48334d(0xbb))return Reflect['metadata'](_0x1b3433,_0x56dd17);};Object[_0x1b900d(0xb4)](exports,'__esModule',{'value':!![]}),exports['CustomRedisService']=void 0x0;function _0x4612(_0x5b439f,_0x4e97ff){const _0x3ca1b4=_0x3ca1();return _0x4612=function(_0x4612e2,_0x2f8b59){_0x4612e2=_0x4612e2-0xaf;let _0x420ac2=_0x3ca1b4[_0x4612e2];return _0x420ac2;},_0x4612(_0x5b439f,_0x4e97ff);}const common_1=require(_0x1b900d(0xb6)),nestjs_redis_1=require(_0x1b900d(0xbf)),obj_utils_1=require(_0x1b900d(0xc8)),DEFAULT_EXPIRE_SECONDS=0xf*0x3c;let CustomRedisService=class CustomRedisService{constructor(_0x5e91b8){this['redisService']=_0x5e91b8,this['redisClient']=this['redisService']['getClient']();}[_0x1b900d(0xba)](_0x340a05,_0x5f3e5a){const _0x4cc99c=_0x1b900d;return this['redisClient'][_0x4cc99c(0xba)](_0x340a05,_0x5f3e5a);}async[_0x1b900d(0xc3)](_0x35f3ce){const _0x4631dc=_0x1b900d;return await this[_0x4631dc(0xc2)]['get'](_0x35f3ce);}async[_0x1b900d(0xca)](_0x3fe36d){const _0xc732d5=_0x1b900d,_0xdeed12=await this[_0xc732d5(0xc2)][_0xc732d5(0xb1)](_0x3fe36d);return _0xdeed12===0x1;}[_0x1b900d(0xd3)](_0x34d7e2,_0xa115fd,_0x51b800){const _0x342153=_0x1b900d;return this[_0x342153(0xc2)]['set'](_0x34d7e2,_0xa115fd,'EX',_0x51b800);}async[_0x1b900d(0xd5)](_0x1882e3){const _0x23f21c=_0x1b900d,_0xaf9826=await this[_0x23f21c(0xc2)][_0x23f21c(0xd5)](_0x1882e3);return _0xaf9826===0x1;}async[_0x1b900d(0xb0)](_0x266185){const _0x31f819=_0x1b900d,_0x4cafe1=await this[_0x31f819(0xc2)][_0x31f819(0xd5)](_0x266185);return _0x4cafe1;}async[_0x1b900d(0xbd)](_0x637bc3,_0x1dd52a){const _0x87ea6c=_0x1b900d,_0x3a0386=await this[_0x87ea6c(0xc2)][_0x87ea6c(0xd0)](_0x637bc3,'1');return _0x3a0386===0x1&&await this[_0x87ea6c(0xc2)]['expire'](_0x637bc3,_0x1dd52a?_0x1dd52a:DEFAULT_EXPIRE_SECONDS),_0x3a0386===0x1;}async['mget'](_0x575cd1){const _0x250333=_0x1b900d;return await this['redisClient'][_0x250333(0xc4)](_0x575cd1);}async['mset'](_0x296c89){const _0x2f2e9d=_0x1b900d;return await this[_0x2f2e9d(0xc2)][_0x2f2e9d(0xc9)](_0x296c89);}async[_0x1b900d(0xc1)](_0x13cbc1){const _0x472f34=_0x1b900d,_0x4061e6=await this[_0x472f34(0xc2)][_0x472f34(0xc1)](_0x13cbc1);if((0x0,obj_utils_1['isEmpty'])(_0x4061e6))return 0x0;return _0x4061e6;}async['setbit'](_0xc8d67e,_0x2e214e){const _0x29c7b5=_0x1b900d;return await this[_0x29c7b5(0xc2)][_0x29c7b5(0xcd)](_0xc8d67e,_0x2e214e,0x1);}async[_0x1b900d(0xcb)](_0x3ac8c2,_0x5a42e5,_0x3c00e2){const _0x352c32=_0x1b900d;return await this[_0x352c32(0xc2)][_0x352c32(0xcb)](_0x3ac8c2,_0x5a42e5,_0x3c00e2);}};CustomRedisService=__decorate([(0x0,common_1[_0x1b900d(0xbc)])(),__metadata(_0x1b900d(0xb5),[nestjs_redis_1[_0x1b900d(0xcc)]])],CustomRedisService),exports[_0x1b900d(0xb9)]=CustomRedisService;