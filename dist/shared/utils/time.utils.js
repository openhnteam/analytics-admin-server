'use strict';const _0x43e5c4=_0x5b7c;(function(_0x3b60ca,_0x35b2ca){const _0x10a66c=_0x5b7c,_0x5082e9=_0x3b60ca();while(!![]){try{const _0x5f50b5=parseInt(_0x10a66c(0xd8))/0x1*(-parseInt(_0x10a66c(0x103))/0x2)+parseInt(_0x10a66c(0xd1))/0x3*(parseInt(_0x10a66c(0xfa))/0x4)+-parseInt(_0x10a66c(0xf6))/0x5*(parseInt(_0x10a66c(0x10d))/0x6)+-parseInt(_0x10a66c(0xf0))/0x7*(-parseInt(_0x10a66c(0xcf))/0x8)+parseInt(_0x10a66c(0xfc))/0x9*(parseInt(_0x10a66c(0xe8))/0xa)+-parseInt(_0x10a66c(0x111))/0xb+-parseInt(_0x10a66c(0xc8))/0xc;if(_0x5f50b5===_0x35b2ca)break;else _0x5082e9['push'](_0x5082e9['shift']());}catch(_0x5b71b0){_0x5082e9['push'](_0x5082e9['shift']());}}}(_0x12dc,0xd4943));function _0x5b7c(_0xf6c33,_0x45c06b){const _0x12dca3=_0x12dc();return _0x5b7c=function(_0x5b7c3a,_0x3bbd6c){_0x5b7c3a=_0x5b7c3a-0xc6;let _0x4552cc=_0x12dca3[_0x5b7c3a];return _0x4552cc;},_0x5b7c(_0xf6c33,_0x45c06b);}var __importDefault=this&&this['__importDefault']||function(_0x1832a3){const _0x2e043b=_0x5b7c;return _0x1832a3&&_0x1832a3[_0x2e043b(0xf2)]?_0x1832a3:{'default':_0x1832a3};};function _0x12dc(){const _0x2bcd51=['6CYWHQZ','Asia/Shanghai','dayOfMonthIndex','quarter','446490SDblde','isoWeekIndex','appTimeZone','floor','DATE_FORMAT','timeFormatToDisplay','monthIndex','12872580bkdKwP','getStartOfUnit','parse','isLastDayOfIsoWeekday','isoWeekday','curTs','getPastNDaysTimeRange','5470984wLxxeK','startOf','4204443upMIQQ','format','defineProperty','quarterIndex','getStartAndEndTime','day','subtract','1DACUIt','env','dayjs/plugin/timezone','year','extend','default','dayjs/plugin/utc','push','isSame','valueOf','type','startTimeString','set','isTodayWithTs','clone','isLastDayOfQuarter','110MJFOGy','dateFormat','sleep','\x20分钟\x20','getTicksBetween','date','dayjs/plugin/customParseFormat','endTime','14teiPWB','dayjs/plugin/isoWeek','__esModule','WEEK','\x20小时\x20','isoWeek','106595Yiggft','dayjs/plugin/dayOfYear','month','idx','4xoMawf','DateUnit','280647rrotEc','DAY','../dto/sts.task.dto','startTime','isEmpty','dayOfYearIndex','DATETIME_FORMAT','2213786IFEkYi','ceil','preprocessTimeRange','buildStsTask','YEAR','isTodayWithDate','QUARTER','MONTH','endOf','../constants/date.constant'];_0x12dc=function(){return _0x2bcd51;};return _0x12dc();}Object[_0x43e5c4(0xd3)](exports,_0x43e5c4(0xf2),{'value':!![]}),exports[_0x43e5c4(0xce)]=exports[_0x43e5c4(0xec)]=exports[_0x43e5c4(0xd5)]=exports[_0x43e5c4(0xc6)]=exports[_0x43e5c4(0x105)]=exports[_0x43e5c4(0x106)]=exports['getStartOfUnit']=exports[_0x43e5c4(0x101)]=exports[_0x43e5c4(0x10f)]=exports[_0x43e5c4(0xcc)]=exports['isoWeekIndex']=exports[_0x43e5c4(0xc7)]=exports[_0x43e5c4(0xd4)]=exports[_0x43e5c4(0xcb)]=exports['isLastDayOfMonth']=exports[_0x43e5c4(0xe7)]=exports[_0x43e5c4(0x108)]=exports[_0x43e5c4(0xe5)]=exports[_0x43e5c4(0xe9)]=exports[_0x43e5c4(0xcd)]=exports[_0x43e5c4(0x113)]=exports[_0x43e5c4(0xea)]=void 0x0;const dayjs_1=__importDefault(require('dayjs')),obj_utils_1=require('./obj.utils'),timezone_1=__importDefault(require(_0x43e5c4(0xda))),utc_1=__importDefault(require(_0x43e5c4(0xde))),isoWeek_1=__importDefault(require(_0x43e5c4(0xf1))),isBetween_1=__importDefault(require('dayjs/plugin/isBetween')),customParseFormat_1=__importDefault(require(_0x43e5c4(0xee))),quarterOfYear_1=__importDefault(require('dayjs/plugin/quarterOfYear')),date_constant_1=require(_0x43e5c4(0x10c)),sts_task_dto_1=require(_0x43e5c4(0xfe)),dayOfYear_1=__importDefault(require(_0x43e5c4(0xf7)));dayjs_1[_0x43e5c4(0xdd)]['extend'](timezone_1[_0x43e5c4(0xdd)]),dayjs_1[_0x43e5c4(0xdd)][_0x43e5c4(0xdc)](utc_1[_0x43e5c4(0xdd)]),dayjs_1[_0x43e5c4(0xdd)][_0x43e5c4(0xdc)](isoWeek_1[_0x43e5c4(0xdd)]),dayjs_1[_0x43e5c4(0xdd)]['extend'](isBetween_1[_0x43e5c4(0xdd)]),dayjs_1['default'][_0x43e5c4(0xdc)](customParseFormat_1[_0x43e5c4(0xdd)]),dayjs_1[_0x43e5c4(0xdd)][_0x43e5c4(0xdc)](quarterOfYear_1[_0x43e5c4(0xdd)]),dayjs_1['default'][_0x43e5c4(0xdc)](dayOfYear_1['default']);function sleep(_0x12e445){return new Promise(_0x5a2fea=>setTimeout(()=>{_0x5a2fea();},_0x12e445));}exports[_0x43e5c4(0xea)]=sleep;function appTimeZone(){const _0x8661b6=_0x43e5c4,_0x3324f4=process[_0x8661b6(0xd9)]['TZ']||_0x8661b6(0x10e);return _0x3324f4;}exports[_0x43e5c4(0x113)]=appTimeZone;function curTs(){const _0x55648a=_0x43e5c4;return(0x0,dayjs_1[_0x55648a(0xdd)])()[_0x55648a(0xe1)]();}exports[_0x43e5c4(0xcd)]=curTs;function dateFormat(_0x14c34b,_0x50c08c){const _0x1d0226=_0x43e5c4;return(0x0,dayjs_1[_0x1d0226(0xdd)])(_0x14c34b)['format'](_0x50c08c);}exports[_0x43e5c4(0xe9)]=dateFormat;function isTodayWithTs(_0x1536f8){const _0x30ffde=_0x43e5c4;if((0x0,obj_utils_1[_0x30ffde(0x100)])(_0x1536f8))return![];const _0x3a1dbb=(0x0,dayjs_1['default'])()[_0x30ffde(0xd0)](_0x30ffde(0xd6));return(0x0,dayjs_1[_0x30ffde(0xdd)])(Number(_0x1536f8))[_0x30ffde(0xe0)](_0x3a1dbb,'d');}exports['isTodayWithTs']=isTodayWithTs;function isTodayWithDate(_0x54d2bf){const _0x28d4ac=_0x43e5c4;if((0x0,obj_utils_1[_0x28d4ac(0x100)])(_0x54d2bf))return![];const _0x4655eb=(0x0,dayjs_1['default'])()['startOf'](_0x28d4ac(0xd6));return(0x0,dayjs_1['default'])(_0x54d2bf)['isSame'](_0x4655eb,'d');}exports['isTodayWithDate']=isTodayWithDate;function isLastDayOfQuarter(_0x3d3db0){const _0x409e72=_0x43e5c4,_0xf251f5=quarterIndex(_0x3d3db0),_0x4ead35=(0x0,dayjs_1[_0x409e72(0xdd)])()[_0x409e72(0xe4)](_0x409e72(0xdb),_0x3d3db0[_0x409e72(0xdb)]())[_0x409e72(0xe4)](_0x409e72(0xf8),_0xf251f5*0x3-0x1)[_0x409e72(0x10b)](_0x409e72(0xf8));return _0x3d3db0['isSame'](_0x4ead35,_0x409e72(0xd6));}exports[_0x43e5c4(0xe7)]=isLastDayOfQuarter;function isLastDayOfMonth(_0x573616){const _0x16aee8=_0x43e5c4,_0x2d0827=_0x573616[_0x16aee8(0xe6)]()[_0x16aee8(0x10b)](_0x16aee8(0xf8));return _0x573616[_0x16aee8(0xe0)](_0x2d0827,'day');}exports['isLastDayOfMonth']=isLastDayOfMonth;function isLastDayOfIsoWeekday(_0x3b4655){const _0x6f631d=_0x43e5c4,_0x72330a=_0x3b4655[_0x6f631d(0xcc)]();return _0x72330a==0x7;}exports[_0x43e5c4(0xcb)]=isLastDayOfIsoWeekday;function quarterIndex(_0x1d8130){const _0x26f93c=monthIndex(_0x1d8130);let _0x598eb6;if(_0x26f93c>=0x1&&_0x26f93c<=0x3)_0x598eb6=0x1;else{if(_0x26f93c>=0x4&&_0x26f93c<=0x6)_0x598eb6=0x2;else _0x26f93c>=0x7&&_0x26f93c<=0x9?_0x598eb6=0x3:_0x598eb6=0x4;}return _0x598eb6;}exports['quarterIndex']=quarterIndex;function monthIndex(_0x5f3b49){const _0x5d35c1=_0x5f3b49['month']()+0x1;return _0x5d35c1;}exports[_0x43e5c4(0xc7)]=monthIndex;function isoWeekIndex(_0x2b030a){return _0x2b030a['isoWeek']();}exports[_0x43e5c4(0x112)]=isoWeekIndex;function isoWeekday(_0x564d15){const _0x4c28ef=_0x43e5c4;return _0x564d15[_0x4c28ef(0xcc)]();}exports[_0x43e5c4(0xcc)]=isoWeekday;function dayOfMonthIndex(_0x16796d){const _0x59f715=_0x43e5c4;return _0x16796d[_0x59f715(0xed)]();}exports[_0x43e5c4(0x10f)]=dayOfMonthIndex;function dayOfYearIndex(_0x537996){return _0x537996['dayOfYear']();}exports[_0x43e5c4(0x101)]=dayOfYearIndex;function getStartOfUnit(_0x3928bf){const _0x4e4212=_0x43e5c4;let _0x1cdd29=_0x4e4212(0xd6);if(date_constant_1[_0x4e4212(0xfb)][_0x4e4212(0xf3)]==_0x3928bf)_0x1cdd29=_0x4e4212(0xf5);else{if(date_constant_1[_0x4e4212(0xfb)]['MONTH']==_0x3928bf)_0x1cdd29='month';else{if(date_constant_1[_0x4e4212(0xfb)][_0x4e4212(0x109)]==_0x3928bf)_0x1cdd29=_0x4e4212(0x110);else date_constant_1['DateUnit']['YEAR']==_0x3928bf&&(_0x1cdd29='year');}}return _0x1cdd29;}exports[_0x43e5c4(0xc9)]=getStartOfUnit;function buildStsTask(_0x7aaa84,_0x19c658){const _0xb7ad7b=_0x43e5c4,_0x2018f3=new sts_task_dto_1['StsTaskDto']();_0x2018f3[_0xb7ad7b(0xdb)]=_0x7aaa84['year'](),_0x2018f3[_0xb7ad7b(0xe2)]=_0x19c658;const _0x38691f=getStartOfUnit(_0x19c658);switch(_0x19c658){case date_constant_1['DateUnit'][_0xb7ad7b(0x107)]:_0x2018f3[_0xb7ad7b(0xf9)]=0x1;break;case date_constant_1[_0xb7ad7b(0xfb)][_0xb7ad7b(0x109)]:_0x2018f3[_0xb7ad7b(0xf9)]=quarterIndex(_0x7aaa84);break;case date_constant_1['DateUnit'][_0xb7ad7b(0x10a)]:_0x2018f3['idx']=monthIndex(_0x7aaa84);break;case date_constant_1[_0xb7ad7b(0xfb)][_0xb7ad7b(0xf3)]:_0x2018f3[_0xb7ad7b(0xf9)]=isoWeekIndex(_0x7aaa84);break;case date_constant_1[_0xb7ad7b(0xfb)][_0xb7ad7b(0xfd)]:_0x2018f3[_0xb7ad7b(0xf9)]=dayOfYearIndex(_0x7aaa84);break;default:break;}return _0x2018f3['startTime']=_0x7aaa84[_0xb7ad7b(0xd0)](_0x38691f),_0x2018f3[_0xb7ad7b(0xef)]=_0x7aaa84['endOf'](_0x38691f),_0x2018f3[_0xb7ad7b(0xe3)]=_0x2018f3[_0xb7ad7b(0xff)][_0xb7ad7b(0xd2)](date_constant_1[_0xb7ad7b(0x102)]),_0x2018f3['endTimeString']=_0x2018f3[_0xb7ad7b(0xef)][_0xb7ad7b(0xd2)](date_constant_1[_0xb7ad7b(0x102)]),_0x2018f3;}exports['buildStsTask']=buildStsTask;function preprocessTimeRange(_0x420e21,_0x12cfba,_0x20a34b){const _0x66e570=_0x43e5c4,_0x3e7803=(0x0,dayjs_1[_0x66e570(0xdd)])(_0x420e21),_0xe1450d=(0x0,dayjs_1['default'])(_0x12cfba),_0x365a2f=getStartOfUnit(_0x20a34b),_0x12dac3=_0x3e7803[_0x66e570(0xe6)]()[_0x66e570(0xd0)](_0x365a2f)['format'](date_constant_1[_0x66e570(0x102)]),_0x1bfcf9=_0xe1450d[_0x66e570(0xe6)]()[_0x66e570(0x10b)](_0x365a2f)['format'](date_constant_1[_0x66e570(0x102)]),_0x22b139=_0x3e7803['clone']()[_0x66e570(0xd0)](_0x365a2f)[_0x66e570(0xd2)](date_constant_1[_0x66e570(0x102)]),_0x5165de=_0xe1450d[_0x66e570(0xe6)]()[_0x66e570(0xd0)](_0x365a2f)['format'](date_constant_1[_0x66e570(0x102)]);return{'startTime':_0x12dac3,'endTime':_0x1bfcf9,'stsStartTime':_0x22b139,'stsEndTime':_0x5165de};}exports[_0x43e5c4(0x105)]=preprocessTimeRange;function timeFormatToDisplay(_0x14adde){const _0xb54d1d=_0x43e5c4,_0x443cd9=_0x14adde%(0x3e8*0x3c*0x3c*0x18)/(0x3e8*0x3c*0x3c),_0x2626c3=_0x14adde%(0x3e8*0x3c*0x3c)/(0x3e8*0x3c),_0xf895e3=_0x14adde%(0x3e8*0x3c)/0x3e8;let _0x1bfccd=Math[_0xb54d1d(0x104)](_0xf895e3)+'\x20秒';return _0x2626c3>=0x1&&(_0x1bfccd=Math['floor'](_0x2626c3)+_0xb54d1d(0xeb)+_0x1bfccd),_0x443cd9>=0x1&&(_0x1bfccd=Math[_0xb54d1d(0x114)](_0x443cd9)+_0xb54d1d(0xf4)+_0x1bfccd),_0x1bfccd;}exports[_0x43e5c4(0xc6)]=timeFormatToDisplay;function getStartAndEndTime(_0xda1048,_0x412f0e=date_constant_1[_0x43e5c4(0xfb)][_0x43e5c4(0xfd)]){const _0x4d7222=_0x43e5c4,_0x5787f4=JSON[_0x4d7222(0xca)](_0xda1048);return preprocessTimeRange(_0x5787f4[0x0],_0x5787f4[0x1],_0x412f0e);}exports[_0x43e5c4(0xd5)]=getStartAndEndTime;function getTicksBetween(_0x4e391a){const _0x1608f8=_0x43e5c4,_0x4e352b=JSON[_0x1608f8(0xca)](_0x4e391a),_0x827e30=_0x4e352b[0x0],_0x20268e=_0x4e352b[0x1];let _0x309bf3=_0x827e30;const _0x2f58b0=[];while(_0x309bf3<=_0x20268e){_0x2f58b0[_0x1608f8(0xdf)](dateFormat(_0x309bf3,date_constant_1[_0x1608f8(0x115)])),_0x309bf3+=0x5265c00;}return _0x2f58b0;}exports[_0x43e5c4(0xec)]=getTicksBetween;function getPastNDaysTimeRange(_0x638c3d){const _0x3951ae=_0x43e5c4,_0x554c20=(0x0,dayjs_1[_0x3951ae(0xdd)])(),_0x4372ae=_0x554c20['endOf']('day')['format'](date_constant_1[_0x3951ae(0x102)]),_0x578e45=_0x554c20[_0x3951ae(0xd7)](0x1,_0x3951ae(0xd6))[_0x3951ae(0xd0)](_0x3951ae(0xd6))[_0x3951ae(0xd2)](date_constant_1['DATETIME_FORMAT']);return{'startTime':_0x578e45,'endTime':_0x4372ae};}exports[_0x43e5c4(0xce)]=getPastNDaysTimeRange;